(()=>{let e=[];const n=JSON.parse(sessionStorage.getItem("user"));n&&(e=[],fetch(`https://nft-universe.onrender.com/like/${n.uuid}`).then((e=>e.json())).then((t=>{t.data.forEach((n=>{const t=n.title,i=n.img,c=n.price,l=n.rank;let o={id:n.collectionId,title:t,image:i,price:c,rank:l};e.push(o)})),function(){0==e.length?document.getElementById("nolike-message").style.display="block":document.getElementById("nolike-message").style.display="none";const t=document.getElementById("card-collection");let i="";e.forEach((e=>{i+=`\n\n        <div class="card-collection">\n            <div class="card-collection-img">\n            <img src="${e.image}" alt="test">\n            </div>\n\n            <div class="card-collection-title">\n            <h2>${e.title}</h2>\n            </div>\n\n            <div class="card-collection-price">\n            <h3>${e.price} BUSD</h3>\n            </div>\n\n            <div class="card-collection-rank_like">\n            <p>#${e.rank}</p>\n            <img id = ${e.id} name = 'delete' src="./img/delete (1).png" alt="trash"></a> \n            </div>\n        </div>`})),t.innerHTML+=i,document.getElementsByName("delete").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),async function(e,n,t){let i=await fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(void 0)});return await i.json()}(`https://nft-universe.onrender.com/deleteLike?collectionId=${e.target.id}&userId=${n.uuid}`).then((e=>{location.reload()}))}))}))}()})))})();