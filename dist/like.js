(()=>{let e=[];const t=JSON.parse(sessionStorage.getItem("user"));t&&(e=[],fetch(`http://localhost:1200/like/${t.uuid}`).then((e=>e.json())).then((n=>{n.data.forEach((t=>{const n=t.title,l=t.img,i=t.price,c=t.rank;let o={id:t.collectionId,title:n,image:l,price:i,rank:c};e.push(o)})),console.log(e),function(){0==e.length?document.getElementById("nolike-message").style.display="block":document.getElementById("nolike-message").style.display="none";const n=document.getElementById("card-collection");let l="";e.forEach((e=>{l+=`\n\n        <div class="card-collection">\n            <div class="card-collection-img">\n            <img src="${e.image}" alt="test">\n            </div>\n\n            <div class="card-collection-title">\n            <h2>${e.title}</h2>\n            </div>\n\n            <div class="card-collection-price">\n            <h3>${e.price} BUSD</h3>\n            </div>\n\n            <div class="card-collection-rank_like">\n            <p>#${e.rank}</p>\n            <img id = ${e.id} name = 'delete' src="./img/delete (1).png" alt="trash"></a> \n            </div>\n        </div>`})),n.innerHTML+=l,document.getElementsByName("delete").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),async function(e,t,n){let l=await fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(void 0)});return await l.json()}(`http://localhost:1200/deleteLike?collectionId=${e.target.id}&userId=${t.uuid}`).then((e=>{console.log(e),location.reload()}))}))}))}()})))})();